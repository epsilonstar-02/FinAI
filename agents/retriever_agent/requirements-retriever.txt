# Core dependencies with compatible versions
fastapi>=0.104.1,<0.110.0
uvicorn[standard]>=0.24.0,<0.35.0
pydantic>=2.7.4,<3.0.0  # Version required by langchain 0.3.25
pydantic-settings>=2.0.3,<3.0.0
python-dotenv>=1.0.0,<2.0.0
httpx>=0.25.0,<0.28.0
numpy>=1.26.1,<2.0.0

# Multiple embedding models
sentence-transformers>=2.2.2,<3.0.0       # Primary embedding model
openai>=1.0.0                            # For OpenAI embeddings
instructor>=0.5.0                        # Enhanced embedding instruction
huggingface_hub>=0.17.3                  # Access to HuggingFace models
onnxruntime>=1.15.1                      # For optimized model inference
transformers>=4.34.0                     # For Transformer models

# Multiple vector databases
faiss-cpu>=1.7.4,<2.0.0                  # Facebook AI Similarity Search
chromadb>=0.4.18                         # ChromaDB vector database
qdrant-client>=1.6.4                     # Qdrant vector database
weaviate-client>=3.24.1                  # Weaviate vector database
pgvector>=0.2.0                          # PostgreSQL vector extension client
redis>=4.6.0                             # For Redis as vector store
pymilvus>=2.3.0                          # Milvus vector database client

# Langchain integration
langchain>=0.3.25                        # For chain-of-retrieval operations
langchain-community>=0.0.10              # Community integrations

# Utilities and helpers
tenacity>=8.2.3                          # Retry logic
loguru>=0.7.0,<1.0.0                     # Enhanced logging
cachetools>=5.3.1                        # For caching
pandas>=2.0.3                            # For data manipulation
tqdm>=4.66.1                             # Progress bars
aiofiles>=23.2.1                         # Async file operations

# Document processing
unstructured>=0.10.30                    # Document processing
pypdf>=3.17.0                            # PDF processing
python-docx>=0.8.11                      # Word document processing
chardet>=5.2.0                           # Character encoding detection
python-magic>=0.4.27                     # File type detection

# For testing
pytest>=7.0.0,<8.0.0
pytest-asyncio>=0.21.0,<0.24.0
pytest-cov>=4.1.0                        # Test coverage
httpx>=0.24.0,<0.28.0                    # HTTP client for testing

# Development dependencies
black>=23.0.0,<24.0.0                    # Code formatting
isort>=5.12.0,<6.0.0                     # Import sorting
mypy>=1.5.0,<2.0.0                       # Type checking
ruff>=0.1.0                              # Fast linter